<!DOCTYPE html>
<html>

<head>
    <meta charset='UTF-8' />
    <title>监视属性</title>
    <script src='./vue.js' type='text/javascript'>
    </script>
</head>

<body>
    <div id="root">
        <h1>{{info}}</h1>
        <!-- <button @click="changeWeather">切换</button> -->
        <!-- 简单表达式可以在click事件里替代method直接写 复杂的还是在method里面写 -->
        <button @click="isHot = !isHot">切换</button>
    </div>
    <script>
        Vue.config.productionTip = false
        const vm = new Vue({
            el: '#root',
            data() {
                return {
                    isHot: true
                }
            },
            methods: {
                changeWeather() {
                    this.isHot = !this.isHot
                }
            },
            computed: {
                info() {
                    //这里必须用this.才能调用isHot 模板里可以直接调用属性，在vm对象内只能通过vm来调用
                    return this.isHot ? "hot1" : "code1"
                }
            },
            /* 监视属性的第一种写法，就是写在vm的实例中，可以监视data中的属性，也可以监视计算属性。immediate表示是否初始化执行一次监视，类似观察者方法 */
            watch: {
                isHot: {
                    immediate: true,
                    handler(newValue, oldValue) {
                        console.log('监视值发生了变化' + newValue, oldValue);
                    }
                }
            }
        })
        /* 第二种监视属性的方式 
        vm.$watch('isHot', {
            immediate: true,
            handler(newValue, oldValue) {
                console.log('监视值发生了变化' + newValue, oldValue);
            }
        }) */
    </script>
</body>

</html>